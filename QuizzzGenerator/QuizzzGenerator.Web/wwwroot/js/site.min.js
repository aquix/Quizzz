function MainViewModel(){var n=this;n.quizz=ko.observable({});n.outputType=ko.observable("json");n.generateQuizz=function(){var r=validate(n),i,t;r&&(n.quizz().questions().forEach(function(n,t){n.id=t+1}),i=ko.toJSON(n,function(n,t){return n==="errors"?undefined:t}),t=new Headers,t.append("Content-Type","application/json"),fetch("/api/generate",{method:"post",headers:t,body:i}).then(function(n){n.text().then(function(n){document.querySelector("html").textContent=n})}))};n.errors=ko.observableArray()}function QuizzViewModel(){var n=this;n.author=ko.observable("");n.category=ko.observable("");n.questions=ko.observableArray([]);n.questions.push(new QuestionViewModel);n.addQuestion=function(){n.questions.push(new QuestionViewModel)};n.removeQuestion=function(t){n.questions.remove(t)}}function QuestionViewModel(){var n=this;n.id=0;n.questionBody=ko.observable("");n.answers=ko.observableArray([]);n.answers.push(new AnswerViewModel);n.answers.push(new AnswerViewModel);n.addAnswer=function(){n.answers.push(new AnswerViewModel)};n.removeAnswer=function(t){n.answers.remove(t)}}function AnswerViewModel(){var n=this;n.isCorrect=ko.observable(!1);n.answerString=ko.observable("")}function init(){var n=new MainViewModel;n.quizz(new QuizzViewModel);ko.applyBindings(n)}function validate(n){function t(t){n.errors.push(t)}n.errors([]);var i=n.quizz();return i.author()===""&&t("Author field is required"),i.category()===""&&t("Category field is required"),i.questions().length===0&&t("Quizz must contain at least one question"),i.questions().forEach(function(n,i){n.questionBody()===""&&t("Question "+(i+1)+": body is empty");n.answers().length<2&&t("Question "+(i+1)+" must have at least two answers");var r=!0,u=!0,f=!1;n.answers().forEach(function(n){n.isCorrect()?r=!1:u=!1;n.answerString()===""&&(f=!0)});u?t("Question "+(i+1)+": all answers can't be correct"):r&&t("Question "+(i+1)+": at least one answer should be correct");f&&t("Question "+(i+1)+": all answers shouldn't be empty strings")}),n.errors().length===0?!0:!1}init();