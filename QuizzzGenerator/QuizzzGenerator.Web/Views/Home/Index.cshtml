@{
    ViewBag.Title = "Index";
}

@section styles {
    <link href="~/lib/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet" />
}

<div class="row">
    <div class="col-sm-8 col-sm-offset-2">
        <h2>Test creator</h2>
        <div data-bind="visible: errors().length !== 0" class="panel panel-danger">
            <div class="panel-heading">
                <h3 class="panel-title">Check entered data</h3>
                <div class="panel-body" data-bind="foreach: errors">
                    <p data-bind="text: $data"></p>
                </div>
            </div>
        </div>
        <form>
            <div class="form-group">
                <label for="Author">Author:</label>
                <input data-bind="value: quizz().author" type="text" class="form-control" id="Author">
            </div>
            <div class="form-group">
                <label for="Name">Name:</label>
                <input data-bind="value: quizz().name" type="text" class="form-control" id="Name">
            </div>
            <div class="form-group">
                <label for="Category">Category:</label>
                <input data-bind="value: quizz().category" type="text" class="form-control" id="Category">
            </div>
            <div data-bind="foreach: quizz().questions">
                <div class="question">
                    <div class="form-group">
                        <label for="Question">Question <span data-bind="text: ($index() + 1)"></span>:</label>
                        <button data-bind="click: $root.quizz().removeQuestion" class="btn btn-danger">
                            <span class="glyphicon glyphicon-remove"></span>
                        </button>
                    </div>

                    <div class="form-group row">
                        <div class="form-group col-sm-6">
                            <textarea data-bind="value: questionBody" class="question-body-area form-control" id="Question"></textarea>
                        </div>
                        <div data-bind="foreach: answers" class="form-group col-sm-6">
                            <div class="form-inline">
                                <div class="input-group">
                                    <input data-bind="value: answerBody" type="text" class="form-control">
                                    <span class="input-group-addon">
                                        <input data-bind="checked: isCorrect" type="checkbox">
                                    </span>
                                </div>
                                <button data-bind="click: $parent.removeAnswer" class="btn btn-danger">
                                    <span class="glyphicon glyphicon-remove"></span>
                                </button>
                            </div>

                        </div>
                        <div class="form-group add-answer-btn">
                            <button data-bind="click: addAnswer" class="btn btn-success">Add answer</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button data-bind="click: quizz().addQuestion" class="btn btn-success">Add question</button>
            </div>
            <div class="form-group">
                <div class="form-inline">
                    <button data-bind="click: generateQuizz" class="btn btn-primary">Generate</button>
                    <div class="form-group">
                        <label class="radio-inline">
                            <input data-bind="checked: outputType" type="radio" name="type-radio" value="json">JSON
                        </label>
                        <label class="radio-inline">
                            <input data-bind="checked: outputType" type="radio" name="type-radio" value="xml">XML
                        </label>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>